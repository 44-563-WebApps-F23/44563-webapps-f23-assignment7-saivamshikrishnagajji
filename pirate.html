<!DOCTYPE html>
<html lang="en">
<head>
  <title>My Treasure Hunt</title>
  <h2>Find the treasure by Sai Vamshi Krishna Gajji</h2>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <style>
        body {
            background-color: #ffffff;
        }
        .container {
            background-color: #fdffe5;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            padding: 20px;
        }
        h1 {
            color: #1259f3;
        }
        p {
            color: #333333;
        }
        .row {
                display: flex;
                flex-wrap: wrap;
                padding: 0 4px;
            }
           
        .col{padding-left: 3px;
        padding-right: 3px;
        margin: 0px;}
        .col img {
        margin-top: 8px;
        vertical-align: middle;

}
    </style>
</head>

<body>
    <div class="container mt-5">
        <div class="text-center">Click on the locations to search for treasure, beware the traps</div>
        <div class="text-center" id="locations">Number of locations checked is zero.</div>
        <div class="text-center" id="penalty">Penalty is zero.</div>
        <div class="text-center">Click for help.</div>
        <div class="text-center" id="help">Help report</div>
    </div>
</br>

<div class="container-sm justify-content-center" style="display: flex;">
    
<!-- Row 1 -->
<center>
<div class="row row-cols-auto">
    <div class="col"><img id='0' src="location.jpg" alt="Location" onclick = "check(0)" height="80px" width="80px"></div>
    <div class="col"><img id ='1' src="location.jpg" alt="Location" onclick = "check(1)" height="80px" width="80px"></div>
    <div class="col"><img id ='2' src="location.jpg" alt="Location" onclick = "check(2)" height="80px" width="80px"></div>
    <div class="col"><img id ='3' src="location.jpg" alt="Location" onclick = "check(3)" height="80px" width="80px"></div>
    <div class="col"><img id ='4' src="location.jpg" alt="Location" onclick = "check(4)" height="80px" width="80px"></div>
</div>
<!-- Row 2 -->
<div class="row row-cols-auto" >
    <div class="col"><img id ='5' src="location.jpg" alt="Location" onclick = "check(5)" height="80px" width="80px"></div>
    <div class="col"><img id ='6' src="location.jpg" alt="Location" onclick = "check(6)" height="80px" width="80px"></div>
    <div class="col"><img id ='7' src="location.jpg" alt="Location" onclick = "check(7)" height="80px" width="80px"></div>
    <div class="col"><img id ='8' src="location.jpg" alt="Location" onclick = "check(8)" height="80px" width="80px"></div>
    <div class="col"><img id ='9' src="location.jpg" alt="Location" onclick = "check(9)" height="80px" width="80px"></div>
</div>
<!-- Row 3 -->
<div class="row row-cols-auto" >
    <div class="col"><img id ='10' src="location.jpg" alt="Location" onclick = "check(10)" height="80px" width="80px"></div>
    <div class="col"><img id ='11' src="location.jpg" alt="Location" onclick = "check(11)" height="80px" width="80px"></div>
    <div class="col"><img id ='12' src="location.jpg" alt="Location" onclick = "check(12)" height="80px" width="80px"></div>
    <div class="col"><img id ='13' src="location.jpg" alt="Location" onclick = "check(13)" height="80px" width="80px"></div>
    <div class="col"><img id ='14' src="location.jpg" alt="Location" onclick = "check(14)" height="80px" width="80px"></div>
</div>

<!-- Row 4 -->
<div class="row row-cols-auto" >
    <div class="col"><img id ='15' src="location.jpg" alt="Location" onclick = "check(15)" height="80px" width="80px"></div>
    <div class="col"><img id ='16' src="location.jpg" alt="Location" onclick = "check(16)"  height="80px" width="80px"></div>
    <div class="col"><img id ='17' src="location.jpg" alt="Location" onclick = "check(17)" height="80px" width="80px"></div>
    <div class="col"><img id ='18' src="location.jpg" alt="Location" onclick = "check(18)" height="80px" width="80px"></div>
    <div class="col"><img id ='19' src="location.jpg" alt="Location" onclick = "check(19)" height="80px" width="80px"></div>
</div>
<!-- Row 5 -->
<div class="row row-cols-auto" >
    <div class="col"><img id ='20' src="location.jpg" alt="Location" onclick = "check(20)" height="80px" width="80px"></div>
    <div class="col"><img id ='21' src="location.jpg" alt="Location" onclick = "check(21)" height="80px" width="80px"></div>
    <div class="col"><img id ='22' src="location.jpg" alt="Location" onclick = "check(22)" height="80px" width="80px"></div>
    <div class="col"><img id ='23' src="location.jpg" alt="Location" onclick = "check(23)" height="80px" width="80px"></div>
    <div class="col"><img id ='24' src="location.jpg" alt="Location" onclick = "check(24)" height="80px" width="80px"></div>
</div>
</center>
</div>
<script>
var ids = ["0", "1", "2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"];

    var checkCount = 0;
    var penalty = 0;
    var lastCheck = 0;
    var treasureLocation = 5;
    var trapLocation = 18;
    var gameOver = false;

    function check(position)
    {
        if(gameOver)
        {
            return;
        }

        var id = ids[position];
        var img = document.getElementById(id);

        if (position === treasureLocation) {
            img.src = "treasure.jpg";
        } else if (position === trapLocation) {
            img.src = "trap.jpg";
        } else {
            img.src = "pirate.png";
        }

        checkCount++;
        penalty++;
        document.getElementById("locations").textContent = "Locations Checked: " + checkCount;

        if (position === treasureLocation) {
            gameOver = true;
            penalty -= 3; 
        } else if (position === trapLocation) {
            gameOver = true;
            penalty += 4; 
        }
        document.getElementById("penalty").textContent = "Penalty: " + penalty;

        lastCheck = position;
    };

    function calculateHelp(lastLocation, treasureLocation) {
   
    var lastRow = Math.floor(lastLocation / 5);
    var lastCol = lastLocation % 5;
    var treasureRow = Math.floor(treasureLocation / 5);
    var treasureCol = treasureLocation % 5;
    var rowDiff = Math.abs(lastRow - treasureRow);
    var colDiff = Math.abs(lastCol - treasureCol);

    if ((rowDiff <= 1 && colDiff <= 1) && (rowDiff !== 0 || colDiff !== 0)) {
        
        return "Can Smell It";
    } else if (rowDiff + colDiff === 2) {
        
        return "Close Matie";
    } else {
       
        return "Step Faster";
    }
}


document.getElementById("help").onclick = function () {
    var helpText = calculateHelp(lastCheck, treasureLocation);

    penalty += 2;

    document.getElementById("penalty").textContent = "Penalty: " + penalty;

    document.getElementById("help").textContent = "Help: " + helpText;
};

document.getElementById("new-game-button").onclick= function () {
   trapLocation = Math.floor(Math.random() * 25);
   treasureLocation = Math.floor(Math.random() * 25);
    penalty=0;
    checkCount=0;
    document.getElementById("penalty").textContent = "Penalty: " + penalty;
    document.getElementById("locations").textContent = 
        "Locations Checked: " + checkCount;
};
</script>
</body>
</html>